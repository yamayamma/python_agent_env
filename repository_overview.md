# リポジトリ解説資料: python_agent_env

## 1. 概要

このリポジトリは、PythonでAIエージェントを開発するための環境の雛形です。`uv`による依存関係管理、`ruff`と`black`によるコード整形・検証、`pyright`による型チェック、そして`pytest`によるテストの仕組みが予め用意されており、開発者はすぐにエージェントのロジック開発に集中することができます。

## 2. プロジェクト構成

このリポジトリの主要なファイルとディレクトリは以下の通りです。

| ファイル/ディレクトリ | 説明 |
|---|---|
| `pyproject.toml` | プロジェクトの設定ファイルです。プロジェクト名、バージョン、依存ライブラリなどが定義されています。 |
| `uv.lock` | `uv`によって管理される依存ライブラリのロックファイルです。 |
| `README.md` | プロジェクトの基本的な説明と使い方が書かれています。 |
| `DEVELOPMENT.md` | 開発者向けの詳細なガイドです。コミット前のチェック項目や主要ライブラリの説明が含まれています。 |
| `.pre-commit-config.yaml` | `pre-commit`フックの設定ファイルです。コミット前に`ruff`や`pyright`などを自動実行します。 |
| `run-precommit.sh` | `pre-commit`を実行するためのシェルスクリプトです。 |
| `tests/` | テストコードを格納するディレクトリです。`pytest`によって実行されます。 |
| `docs/` | ドキュメントを格納するディレクトリです。 |
| `.github/workflows/ci.yml` | GitHub ActionsによるCIの設定ファイルです。 |

**注:** このリポジトリには、`python_agent_env`パッケージのソースコード自体は含まれていません。`pyproject.toml`の設定に基づき、開発者がソースコードを追加していくことを想定した雛形となっています。

## 3. 主な使用ツール

このリポジトリでは、以下のツールが利用されています。

*   **uv:** 高速なPythonパッケージインストーラ兼リゾルバ。`pip`と`venv`の代替として利用されています。
*   **Ruff:** 高速なPythonリンターおよびフォーマッター。
*   **Black:** コードフォーマッター。
*   **Pyright:** 高速な型チェッカー。
*   **Pytest:** テストフレームワーク。
*   **pre-commit:** Gitのコミットフックを管理するツール。

これらのツールは`pyproject.toml`で設定されており、`uv`を通じて実行されます。

## 4. 開発の進め方

`DEVELOPMENT.md`に記載されている手順に従って開発を進めます。

1.  **仮想環境の作成:** `uv venv`
2.  **依存関係のインストール:** `uv sync --extra dev`
3.  **コーディング:** (開発者がソースコードを作成)
4.  **静的解析とフォーマット:** `uv run --frozen ruff check .` `uv run --frozen black --check .` `uv run --frozen pyright`
5.  **テストの実行:** `PYTEST_DISABLE_PLUGIN_AUTOLOAD="" uv run --frozen pytest -q`
6.  **コミット:** `pre-commit`フックが自動で実行され、コードの品質をチェックします。

## 5. CI/CD

`.github/workflows/ci.yml` にて、GitHub Actionsを用いたCIが設定されています。このワークフローは、プルリクエストやプッシュをトリガーとして、以下の処理を自動的に実行します。

*   Pythonのセットアップ
*   `uv`のインストール
*   依存関係のインストール
*   `pre-commit`の実行（フォーマット、Lint、型チェック）
*   テストの実行

これにより、コードの品質を常に高く保つことができます。
